[{"path":"https://ucsf-bhhi.github.io/bhhitools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 bhhitools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Eve Perry. Author, maintainer.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Perry E (2024). bhhitools: Tools BHHI R Users. R package version 0.2.1,  https://ucsf-bhhi.github.io/bhhitools/, https://github.com/ucsf-bhhi/bhhitools.","code":"@Manual{,   title = {bhhitools: Tools For BHHI R Users},   author = {Eve Perry},   year = {2024},   note = {R package version 0.2.1,  https://ucsf-bhhi.github.io/bhhitools/},   url = {https://github.com/ucsf-bhhi/bhhitools}, }"},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"bhhitools-","dir":"","previous_headings":"","what":"Tools For BHHI R Users","title":"Tools For BHHI R Users","text":"collection functions make R work BHHI easier. bhhitools simplifies downloading data REDCap running Stata code R.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools For BHHI R Users","text":"can install bhhitools GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"ucsf-bhhi/bhhitools\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"redcap","dir":"","previous_headings":"","what":"REDCap","title":"Tools For BHHI R Users","text":"bhhitools can download data REDCap automatically convert categorical variables factor variables leaving text fields alone. (Note: data randomly generated correspond real person.) bhhitools also makes easy securely store API tokens operating system credential vault:","code":"library(bhhitools) bhhi_rc_read(\"BHHITOOLS_DEMO\") #> # A tibble: 103 × 35 #>    record_id record_id_cf6e98 first_name last_name   address    dob        age   #>        <int> <chr>            <chr>      <chr>       <chr>      <date>     <chr> #>  1         1 <NA>             Fulton     Corkery     351 7th S… 2010-11-05 12    #>  2         2 <NA>             Buck       Ankunding   745 9th S… 1959-08-23 63    #>  3         3 <NA>             Madelynn   Witting     140 Main … 1981-01-16 42    #>  4         4 <NA>             Parlee     Macejkovic  286 7th S… 1990-03-26 33    #>  5         5 <NA>             Eliezer    Brakus      361 8th S… 1951-05-24 72    #>  6         6 <NA>             Jermain    Jerde       405 4th S… 1969-11-25 53    #>  7         7 <NA>             Georgie    Brown       461 4th S… 1970-12-28 52    #>  8         8 <NA>             Armani     Schamberger 123 3rd S… 1983-06-24 40    #>  9         9 <NA>             Watson     Hettinger   410 3rd S… 1984-04-15 39    #> 10        10 <NA>             Rosia      Hettinger   344 3rd S… 1962-02-10 61    #> # ℹ 93 more rows #> # ℹ 28 more variables: ethnicity <fct>, race <fct>, sex <fct>, height <dbl>, #> #   weight <int>, bmi <chr>, comments <chr>, venue <fct>, #> #   gender_identity___0 <lgl>, gender_identity___1 <lgl>, #> #   gender_identity___2 <lgl>, yes_no <fct>, true_false <fct>, #> #   demographics_complete <fct>, second_yes_no <fct>, date_dmy <date>, #> #   date_mdy <date>, date_ymd <date>, datetime_dmy_hm <dttm>, … bhhi_store_token(\"EXAMPLE_TOKEN\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Downloads REDCap Data — bhhi_rc_read","title":"Downloads REDCap Data — bhhi_rc_read","text":"Downloads data REDCap wrapping REDCapR::redcap_read(). handles variable type conversion creating factors categorical variables. can optionally rename variables adhere Stata's variable naming rules.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downloads REDCap Data — bhhi_rc_read","text":"","code":"bhhi_rc_read(   project_token_name,   convert_factors = TRUE,   for_stata = FALSE,   col_types = \"auto\",   export_survey_fields = TRUE,   verbose = FALSE,   ... )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downloads REDCap Data — bhhi_rc_read","text":"project_token_name Name project's REDCap API Token stored bhhi_store_token() operating system credential vault environment variable. convert_factors Automatically convert categorical variables factors using variable labels REDCap project. Default TRUE. for_stata data prepared use Stata? makes sure variable names legal Stata variable names. Default FALSE. col_types Controls variable types parsing REDCap data. One \"auto\", uses project metadata assign variable types; \"guess\", uses readr::col_guess() determine column types; \"string\" parses variables character strings; custom readr::cols() specification. Default \"auto\". export_survey_fields boolean specifies whether export survey identifier field (e.g., 'redcap_survey_identifier') survey timestamp fields (e.g., instrument+'_timestamp'). timestamp outputs reflect survey's completion time (according time timezone REDCap server.) verbose messages printed R console operation. verbose output might contain sensitive information (e.g. PHI), turn output might visible somewhere public. ... Options passed REDCapR::redcap_read_oneshot().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downloads REDCap Data — bhhi_rc_read","text":"tibble requested data.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"Use REDCap project metadata parse variable labels. Creates tibble values labels categorical variable.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"","code":"bhhi_rc_variable_labels(x)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"x Either string name stored REDCap project API token, xml2 object representing REDCap project XML.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"tibble three columns: variable: name variable stored REDCap value: integer value variable label: corresponding text label","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"provided name API token, download project XML REDCap parse . provided directly project XML, parse .","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":null,"dir":"Reference","previous_headings":"","what":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"Helper making easy create OS-independent file paths referencing BHHI shared drive. requires path root shared drive system stored environment variable. builds path relative shared drive root (ie. Y:/Research/BHHI //sfgh02.som.ucsf.edu/shared$/vol02/CVP/Research/BHHI).","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"","code":"bhhi_shared_drive(path = \"\", envvar_name = \"BHHI_SHARED_DRIVE\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"path File path relative shared drive root. Can omitted get path shared drive root. envvar_name Name environment variable holding path shared drive root system. Defaults \"BHHI_SHARED_DRIVE\".","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"Absolute path file directory shared drive correct system.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"","code":"bhhi_shared_drive(\"statewide_survey_processed_data/latest/statewide_survey_processed.rds\") #> [1] \"/statewide_survey_processed_data/latest/statewide_survey_processed.rds\" bhhi_shared_drive() #> [1] \"/\""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":null,"dir":"Reference","previous_headings":"","what":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"Runs included code cleaning raw REDCap data download. different cleaning file can also used.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"","code":"bhhi_stata_do(data, do_file, quiet = TRUE, ...)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"data Tibble data frame pass Stata. do_file Path file. quiet Whether suppress printing Stata output screen. ... options controlling Stata interaction. Passed RStata::stata()","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"tibble cleaned data.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data for Stata — bhhi_stata_prep","title":"Prepare Data for Stata — bhhi_stata_prep","text":"Renames variables comply Stata's naming rules:","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data for Stata — bhhi_stata_prep","text":"","code":"bhhi_stata_prep(data)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data for Stata — bhhi_stata_prep","text":"data tibble data frame prepare Stata.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Data for Stata — bhhi_stata_prep","text":"Stata names can contain letters, digits, underscores. Illegal characters replaced underscores. Stata names start digit. Names leading digits prepended underscore. Stata names can 32 characters long. Names truncated maximum 32 characters.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Securely Store API Tokens — bhhi_store_token","title":"Securely Store API Tokens — bhhi_store_token","text":"Uses keyring securely store API tokens (e.g. REDCap) operating system's credential vault.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Securely Store API Tokens — bhhi_store_token","text":"","code":"bhhi_store_token(token_name)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Securely Store API Tokens — bhhi_store_token","text":"token_name Name token, string","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Securely Store API Tokens — bhhi_store_token","text":"","code":"if (FALSE) { # interactive() bhhi_store_token(\"REDCAP_API_TOKEN\") }"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhitools.html","id":null,"dir":"Reference","previous_headings":"","what":"bhhitools — bhhitools","title":"bhhitools — bhhitools","text":"bhhitools","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns path to Stata binary — get_stata_path","title":"Returns path to Stata binary — get_stata_path","text":"Returns path Stata binary","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns path to Stata binary — get_stata_path","text":"","code":"get_stata_path()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns path to Stata binary — get_stata_path","text":"Path Stata binary.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns Stata version — get_stata_version","title":"Returns Stata version — get_stata_version","text":"Returns Stata version","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns Stata version — get_stata_version","text":"","code":"get_stata_version()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns Stata version — get_stata_version","text":"Stata version integer.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":null,"dir":"Reference","previous_headings":"","what":"REDCap API URL — redcap_api_url","title":"REDCap API URL — redcap_api_url","text":"Returns URL REDCap API: https://redcap.ucsf.edu/api/","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"REDCap API URL — redcap_api_url","text":"","code":"redcap_api_url()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"REDCap API URL — redcap_api_url","text":"REDCap API URL","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch appropriate REDCap API Token — redcap_token","title":"Fetch appropriate REDCap API Token — redcap_token","text":"Fetches project's REDCap API Token","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch appropriate REDCap API Token — redcap_token","text":"","code":"redcap_token(project_token_name)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch appropriate REDCap API Token — redcap_token","text":"project_token_name Name used store token via bhhi_store_token() name environment variable token.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch appropriate REDCap API Token — redcap_token","text":"API token.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch appropriate REDCap API Token — redcap_token","text":"get API token, ask one BHHI REDCap admins grant API privileges request token. See https://redcap.ucsf.edu/api/help/?content=tokens details.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-020","dir":"Changelog","previous_headings":"","what":"bhhitools 0.2.0","title":"bhhitools 0.2.0","text":"Adds bhhi_shared_drive() builds OS-independent file paths BHHI shared drive.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-010","dir":"Changelog","previous_headings":"","what":"bhhitools 0.1.0","title":"bhhitools 0.1.0","text":"Initial version.","code":""}]
