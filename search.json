[{"path":"https://ucsf-bhhi.github.io/bhhitools/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 bhhitools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Eve Perry. Author, maintainer.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Perry E (2024). bhhitools: Tools BHHI R Users. R package version 0.6.4, https://ucsf-bhhi.github.io/bhhitools/, https://github.com/ucsf-bhhi/bhhitools.","code":"@Manual{,   title = {bhhitools: Tools For BHHI R Users},   author = {Eve Perry},   year = {2024},   note = {R package version 0.6.4,     https://ucsf-bhhi.github.io/bhhitools/},   url = {https://github.com/ucsf-bhhi/bhhitools}, }"},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"bhhitools-","dir":"","previous_headings":"","what":"Tools For BHHI R Users","title":"Tools For BHHI R Users","text":"collection functions make R work BHHI easier. bhhitools simplifies downloading data REDCap running Stata code R.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools For BHHI R Users","text":"can install bhhitools GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"ucsf-bhhi/bhhitools\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/index.html","id":"redcap","dir":"","previous_headings":"","what":"REDCap","title":"Tools For BHHI R Users","text":"bhhitools can download data REDCap automatically convert categorical variables factor variables leaving text fields alone. (Note: data randomly generated correspond real person.) bhhitools also makes easy securely store API tokens operating system credential vault:","code":"library(bhhitools) bhhi_rc_read(\"BHHITOOLS_DEMO\") #> # A tibble: 103 × 35 #>    record_id record_id_cf6e98 first_name last_name   address    dob        age   #>        <int> <chr>            <chr>      <chr>       <chr>      <date>     <chr> #>  1         1 <NA>             Fulton     Corkery     351 7th S… 2010-11-05 12    #>  2         2 <NA>             Buck       Ankunding   745 9th S… 1959-08-23 63    #>  3         3 <NA>             Madelynn   Witting     140 Main … 1981-01-16 42    #>  4         4 <NA>             Parlee     Macejkovic  286 7th S… 1990-03-26 33    #>  5         5 <NA>             Eliezer    Brakus      361 8th S… 1951-05-24 72    #>  6         6 <NA>             Jermain    Jerde       405 4th S… 1969-11-25 53    #>  7         7 <NA>             Georgie    Brown       461 4th S… 1970-12-28 52    #>  8         8 <NA>             Armani     Schamberger 123 3rd S… 1983-06-24 40    #>  9         9 <NA>             Watson     Hettinger   410 3rd S… 1984-04-15 39    #> 10        10 <NA>             Rosia      Hettinger   344 3rd S… 1962-02-10 61    #> # ℹ 93 more rows #> # ℹ 28 more variables: ethnicity <fct>, race <fct>, sex <fct>, height <dbl>, #> #   weight <int>, bmi <chr>, comments <chr>, venue <fct>, #> #   gender_identity___0 <lgl>, gender_identity___1 <lgl>, #> #   gender_identity___2 <lgl>, yes_no <fct>, true_false <fct>, #> #   demographics_complete <fct>, second_yes_no <fct>, date_dmy <date>, #> #   date_mdy <date>, date_ymd <date>, datetime_dmy_hm <dttm>, … bhhi_store_token(\"EXAMPLE_TOKEN\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_add_quarto.html","id":null,"dir":"Reference","previous_headings":"","what":"Install BHHI Quarto Format — bhhi_add_quarto","title":"Install BHHI Quarto Format — bhhi_add_quarto","text":"Installs BHHI Quarto format GitHub.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_add_quarto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Install BHHI Quarto Format — bhhi_add_quarto","text":"","code":"bhhi_add_quarto()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_cascade.html","id":null,"dir":"Reference","previous_headings":"","what":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","title":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","text":"Calculates full contingent statistics manner srvyr::cascade().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_cascade.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","text":"","code":"bhhi_cascade(.data, ..., .fill = \"Overall\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_cascade.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","text":".data tbl tbl_svy object ... Name-value pairs summary functions .fill Value fill group summaries. Defaults 'Overall'.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_cascade.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","text":"calculating two-way contingency table (.k.. crosstab), srvyr::cascade() calculates proportions column variable level row variable, calculates proportion row variable overall sample. makes two-way contingency tables difficult srvyr::cascade(). bhhi_cascade() instead calculates proportion column variable overall sample, produces results compatible comparable results levels row variable","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_cascade.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cascade Survey Objects with Full Contingencies — bhhi_cascade","text":"","code":"data(\"nhanes\", package = \"survey\")  survey_object <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\"))   ) |>   srvyr::as_survey(weights = WTMEC2YR)  survey_object |>   srvyr::group_by(gender, race) |>   bhhi_cascade(srvyr::survey_prop(proportion = TRUE)) #> # A tibble: 12 × 4 #> # Groups:   gender [3] #>    gender  race       coef   `_se` #>    <fct>   <fct>     <dbl>   <dbl> #>  1 Male    Hispanic 0.158  0.00507 #>  2 Male    White    0.662  0.00818 #>  3 Male    Black    0.111  0.00432 #>  4 Male    Other    0.0682 0.00520 #>  5 Female  Hispanic 0.143  0.00443 #>  6 Female  White    0.653  0.00805 #>  7 Female  Black    0.127  0.00471 #>  8 Female  Other    0.0769 0.00536 #>  9 Overall Hispanic 0.151  0.00336 #> 10 Overall White    0.657  0.00574 #> 11 Overall Black    0.119  0.00321 #> 12 Overall Other    0.0726 0.00374  survey_object |>   srvyr::group_by(gender, race) |>   srvyr::cascade(srvyr::survey_prop(proportion = TRUE), .fill = \"Overall\") #> Warning: There was 1 warning in `dplyr::summarise()`. #> ℹ In argument: `srvyr::survey_prop(proportion = TRUE)`. #> Caused by warning: #> ! glm.fit: algorithm did not converge #> # A tibble: 11 × 4 #> # Groups:   gender [3] #>    gender  race       coef    `_se` #>    <fct>   <fct>     <dbl>    <dbl> #>  1 Male    Hispanic 0.158  5.07e- 3 #>  2 Male    White    0.662  8.18e- 3 #>  3 Male    Black    0.111  4.32e- 3 #>  4 Male    Other    0.0682 5.20e- 3 #>  5 Male    Overall  0.488  6.82e- 3 #>  6 Female  Hispanic 0.143  4.43e- 3 #>  7 Female  White    0.653  8.05e- 3 #>  8 Female  Black    0.127  4.71e- 3 #>  9 Female  Other    0.0769 5.36e- 3 #> 10 Female  Overall  0.512  6.82e- 3 #> 11 Overall Overall  1.00   9.26e-19"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_crosstab.html","id":null,"dir":"Reference","previous_headings":"","what":"Run a Weighted Crosstab — bhhi_crosstab","title":"Run a Weighted Crosstab — bhhi_crosstab","text":"Simplifies running weighted crosstab bhhi_cascade() srvyr::survey_prop(). Returns tibble can directly customized formatted bhhi_reshape_crosstab() bhhi_format_crosstab().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_crosstab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run a Weighted Crosstab — bhhi_crosstab","text":"","code":"bhhi_crosstab(   .data,   row_var,   col_var,   pct_direction = \"col\",   add_n = FALSE,   vartype = c(\"se\", \"ci\", \"var\", \"cv\"),   level = 0.95,   proportion = TRUE,   convert_labelled = TRUE,   na.rm = FALSE )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_crosstab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run a Weighted Crosstab — bhhi_crosstab","text":".data tbl tbl_svy object row_var Variable show rows output. col_var Variable show columns output. pct_direction 'col' calculate column percentages 'row' calculate row percentages. Defaults 'col'. add_n Add cell N output. Defaults FALSE. vartype Report variability zero : standard error (\"se\", default), confidence interval (\"ci\"), variance (\"var\") coefficient variation (\"cv\"). Defaults hiding variability. level (vartype = \"ci\" ) single number vector numbers indicating confidence level proportion Use methods calculate proportion may accurate confidence intervals near 0 1. Based svyciprop. convert_labelled either row_var col_var haven::labelled, automatically convert factor. Defaults TRUE. na.rm Drop missing values. Defaults FALSE.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_crosstab.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Run a Weighted Crosstab — bhhi_crosstab","text":"tibble crosstab results.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_crosstab.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Run a Weighted Crosstab — bhhi_crosstab","text":"","code":"data(\"nhanes\", package = \"survey\")  survey_object <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\"))   ) |>   srvyr::as_survey(weights = WTMEC2YR)  survey_object |>   bhhi_crosstab(race, gender) #> # A tibble: 12 × 3 #> # Groups:   gender [3] #>    gender  race       coef #>    <fct>   <fct>     <dbl> #>  1 Male    Hispanic 0.158  #>  2 Male    White    0.662  #>  3 Male    Black    0.111  #>  4 Male    Other    0.0682 #>  5 Female  Hispanic 0.143  #>  6 Female  White    0.653  #>  7 Female  Black    0.127  #>  8 Female  Other    0.0769 #>  9 Overall Hispanic 0.151  #> 10 Overall White    0.657  #> 11 Overall Black    0.119  #> 12 Overall Other    0.0726  survey_object |>   bhhi_crosstab(race, gender, pct_direction = \"row\", vartype = \"ci\") #> # A tibble: 10 × 5 #> # Groups:   race [5] #>    race     gender  coef `_low` `_upp` #>    <fct>    <fct>  <dbl>  <dbl>  <dbl> #>  1 Hispanic Male   0.514  0.493  0.534 #>  2 Hispanic Female 0.486  0.466  0.507 #>  3 White    Male   0.491  0.473  0.510 #>  4 White    Female 0.509  0.490  0.527 #>  5 Black    Male   0.456  0.430  0.482 #>  6 Black    Female 0.544  0.518  0.570 #>  7 Other    Male   0.458  0.406  0.511 #>  8 Other    Female 0.542  0.489  0.594 #>  9 Overall  Male   0.488  0.475  0.501 #> 10 Overall  Female 0.512  0.499  0.525  survey_object_labelled <- survey_object |>   srvyr::mutate(     srvyr::across(c(gender, race), labelled::to_labelled)   )  survey_object_labelled |>   bhhi_gt_crosstab(race, gender)            Male       Female       Overall     Hispanic 15.8% 14.3% 15.1%White 66.2% 65.3% 65.7%Black 11.1% 12.7% 11.9%Other 6.8% 7.7% 7.3%"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_crosstab.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Formatted Table From a Reshaped Crosstab — bhhi_format_crosstab","title":"Create Formatted Table From a Reshaped Crosstab — bhhi_format_crosstab","text":"Creates formatted table via gt package survey crosstab reshaped via bhhi_reshape_crosstab().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_crosstab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Formatted Table From a Reshaped Crosstab — bhhi_format_crosstab","text":"","code":"bhhi_format_crosstab(.data, decimals = 1)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_crosstab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Formatted Table From a Reshaped Crosstab — bhhi_format_crosstab","text":".data tibble bhhi_reshape_crosstab() decimals integer specifing number decimal places results. Defaults 1.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_crosstab.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Formatted Table From a Reshaped Crosstab — bhhi_format_crosstab","text":"","code":"data(\"nhanes\", package = \"survey\")  survey_object <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\"))   ) |>   srvyr::as_survey(weights = WTMEC2YR)  survey_object |>   bhhi_crosstab(race, gender) |>   bhhi_reshape_crosstab(race, gender) |>   bhhi_format_crosstab()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Format Tables for Output — bhhi_format_table","title":"Format Tables for Output — bhhi_format_table","text":"Applies common formatting tables output Quarto, R Markdown, etc.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format Tables for Output — bhhi_format_table","text":"","code":"bhhi_format_table(   table,   full_width = TRUE,   left_align_stub = TRUE,   bottom_align_column_labels = TRUE )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format Tables for Output — bhhi_format_table","text":"table gt:gt table object full_width Table fill entire width container. Default true. left_align_stub Text table stub left-aligned. Default true. bottom_align_column_labels Text column labels spanners bottom aligned vertically. Default true.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Format Tables for Output — bhhi_format_table","text":"formatted table object.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format Tables for Output — bhhi_format_table","text":"Currently sets table full width left aligns text table stub.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_format_table.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Format Tables for Output — bhhi_format_table","text":"","code":"if (FALSE) { # interactive() mtcars |>   dplyr::as_tibble(rownames = \"car\") |>   gt::gt(rowname_col = \"car\") |>   bhhi_format_table() }"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_gt_crosstab.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Formatted Weighted Crosstab — bhhi_gt_crosstab","title":"Create Formatted Weighted Crosstab — bhhi_gt_crosstab","text":"Uses bhhi_cascade() srvyr::survey_prop() calculate weighted crosstabs uses bhhi_format_crosstab() create nicely formatted output via gt table package.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_gt_crosstab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Formatted Weighted Crosstab — bhhi_gt_crosstab","text":"","code":"bhhi_gt_crosstab(   .data,   row_var,   col_var,   pct_direction = \"col\",   add_n = FALSE,   vartype = c(\"se\", \"ci\", \"var\", \"cv\"),   level = 0.95,   proportion = TRUE,   decimals = 1,   convert_labelled = TRUE,   na.rm = FALSE )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_gt_crosstab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Formatted Weighted Crosstab — bhhi_gt_crosstab","text":".data tbl tbl_svy object row_var Variable show rows output. col_var Variable show columns output. pct_direction 'col' calculate column percentages 'row' calculate row percentages. Defaults 'col'. add_n Add cell N output. Defaults FALSE. vartype Report variability zero : standard error (\"se\", default), confidence interval (\"ci\"), variance (\"var\") coefficient variation (\"cv\"). Defaults hiding variability. level (vartype = \"ci\" ) single number vector numbers indicating confidence level proportion Use methods calculate proportion may accurate confidence intervals near 0 1. Based svyciprop. decimals integer specifing number decimal places results. Defaults 1. convert_labelled either row_var col_var haven::labelled, automatically convert factor. Defaults TRUE. na.rm Drop missing values. Defaults FALSE.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_gt_crosstab.html","id":"examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Formatted Weighted Crosstab — bhhi_gt_crosstab","text":"","code":"data(\"nhanes\", package = \"survey\")  survey_object <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\"))   ) |>   srvyr::as_survey(weights = WTMEC2YR)  survey_object |>   bhhi_gt_crosstab(race, gender)   survey_object_labelled <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\")),     dplyr::across(c(gender, race), labelled::to_labelled)   ) |>   srvyr::as_survey(weights = WTMEC2YR)    survey_object_labelled |>   bhhi_gt_crosstab(race, gender) survey_object |>   bhhi_gt_crosstab(     race, gender, pct_direction = \"row\", vartype = \"ci\", decimals = 2   )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_new_quarto.html","id":null,"dir":"Reference","previous_headings":"","what":"Create a New BHHI Quarto File — bhhi_new_quarto","title":"Create a New BHHI Quarto File — bhhi_new_quarto","text":"Prepares .qmd file BHHI template ensures BHHI Quarto format installed.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_new_quarto.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create a New BHHI Quarto File — bhhi_new_quarto","text":"","code":"bhhi_new_quarto(filename = \"bhhi-quarto.qmd\", open = TRUE)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_new_quarto.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create a New BHHI Quarto File — bhhi_new_quarto","text":"filename Name new .qmd file. open Open new file editor.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Downloads REDCap Data — bhhi_rc_read","title":"Downloads REDCap Data — bhhi_rc_read","text":"Downloads data REDCap wrapping REDCapR::redcap_read(). handles variable type conversion creating factors categorical variables. can optionally rename variables adhere Stata's variable naming rules.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Downloads REDCap Data — bhhi_rc_read","text":"","code":"bhhi_rc_read(   project_token_name,   convert_factors = TRUE,   for_stata = FALSE,   col_types = \"auto\",   export_survey_fields = TRUE,   verbose = FALSE,   ... )"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Downloads REDCap Data — bhhi_rc_read","text":"project_token_name Name project's REDCap API Token stored bhhi_store_token() operating system credential vault environment variable. convert_factors Automatically convert categorical variables factors using variable labels REDCap project. Default TRUE. for_stata data prepared use Stata? makes sure variable names legal Stata variable names. Default FALSE. col_types Controls variable types parsing REDCap data. One \"auto\", uses project metadata assign variable types; \"guess\", uses readr::col_guess() determine column types; \"string\" parses variables character strings; custom readr::cols() specification. Default \"auto\". export_survey_fields boolean specifies whether export survey identifier field (e.g., 'redcap_survey_identifier') survey timestamp fields (e.g., instrument+'_timestamp'). timestamp outputs reflect survey's completion time (according time timezone REDCap server.) verbose messages printed R console operation. verbose output might contain sensitive information (e.g. PHI), turn output might visible somewhere public. ... Options passed REDCapR::redcap_read_oneshot().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Downloads REDCap Data — bhhi_rc_read","text":"tibble requested data.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":null,"dir":"Reference","previous_headings":"","what":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"Use REDCap project metadata parse variable labels. Creates tibble values labels categorical variable.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"","code":"bhhi_rc_variable_labels(x)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"x Either string name stored REDCap project API token, xml2 object representing REDCap project XML.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"tibble three columns: variable: name variable stored REDCap value: integer value variable label: corresponding text label","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_rc_variable_labels.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Parse REDCap Variable Labels — bhhi_rc_variable_labels","text":"provided name API token, download project XML REDCap parse . provided directly project XML, parse .","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_reshape_crosstab.html","id":null,"dir":"Reference","previous_headings":"","what":"Pivot a Crosstab to Wide Form — bhhi_reshape_crosstab","title":"Pivot a Crosstab to Wide Form — bhhi_reshape_crosstab","text":"Pivots crosstab bhhi_crosstab() long form wide form.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_reshape_crosstab.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pivot a Crosstab to Wide Form — bhhi_reshape_crosstab","text":"","code":"bhhi_reshape_crosstab(.data, row_var, col_var)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_reshape_crosstab.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pivot a Crosstab to Wide Form — bhhi_reshape_crosstab","text":".data tibble bhhi_crosstab() row_var Variable show rows output. col_var Variable show columns output.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_reshape_crosstab.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pivot a Crosstab to Wide Form — bhhi_reshape_crosstab","text":"","code":"data(\"nhanes\", package = \"survey\")  survey_object <- nhanes |>   dplyr::rename(gender = RIAGENDR) |>   dplyr::mutate(     gender = factor(gender, 1:2, c(\"Male\", \"Female\")),     race = factor(race, 1:4, c(\"Hispanic\", \"White\", \"Black\", \"Other\"))   ) |>   srvyr::as_survey(weights = WTMEC2YR)  survey_object |>   bhhi_crosstab(race, gender) |>   bhhi_reshape_crosstab(race, gender) #> # A tibble: 4 × 4 #>   race     Male_coef Female_coef Overall_coef #>   <fct>        <dbl>       <dbl>        <dbl> #> 1 Hispanic    0.158       0.143        0.151  #> 2 White       0.662       0.653        0.657  #> 3 Black       0.111       0.127        0.119  #> 4 Other       0.0682      0.0769       0.0726"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":null,"dir":"Reference","previous_headings":"","what":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"Helper making easy create OS-independent file paths referencing BHHI shared drive. requires path root shared drive system stored environment variable. builds path relative shared drive root (ie. Y:/Research/BHHI //sfgh02.som.ucsf.edu/shared$/vol02/CVP/Research/BHHI).","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"","code":"bhhi_shared_drive(path = \"\", envvar_name = \"BHHI_SHARED_DRIVE\")"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"path File path relative shared drive root. Can omitted get path shared drive root. envvar_name Name environment variable holding path shared drive root system. Defaults \"BHHI_SHARED_DRIVE\".","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"Absolute path file directory shared drive correct system.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_shared_drive.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build BHHI Shared Drive File Paths — bhhi_shared_drive","text":"","code":"bhhi_shared_drive(\"statewide_survey_processed_data/latest/statewide_survey_processed.rds\") #> [1] \"/statewide_survey_processed_data/latest/statewide_survey_processed.rds\" bhhi_shared_drive() #> [1] \"/\""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":null,"dir":"Reference","previous_headings":"","what":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"Runs included code cleaning raw REDCap data download. different cleaning file can also used.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"","code":"bhhi_stata_do(data, do_file, quiet = TRUE, ...)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"data Tibble data frame pass Stata. do_file Path file. quiet Whether suppress printing Stata output screen. ... options controlling Stata interaction. Passed RStata::stata()","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_do.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Runs Stata REDCap data cleaning code. — bhhi_stata_do","text":"tibble cleaned data.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare Data for Stata — bhhi_stata_prep","title":"Prepare Data for Stata — bhhi_stata_prep","text":"Renames variables comply Stata's naming rules:","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare Data for Stata — bhhi_stata_prep","text":"","code":"bhhi_stata_prep(data)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare Data for Stata — bhhi_stata_prep","text":"data tibble data frame prepare Stata.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_stata_prep.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare Data for Stata — bhhi_stata_prep","text":"Stata names can contain letters, digits, underscores. Illegal characters replaced underscores. Stata names start digit. Names leading digits prepended underscore. Stata names can 32 characters long. Names truncated maximum 32 characters.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Securely Store API Tokens — bhhi_store_token","title":"Securely Store API Tokens — bhhi_store_token","text":"Uses keyring securely store API tokens (e.g. REDCap) operating system's credential vault.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Securely Store API Tokens — bhhi_store_token","text":"","code":"bhhi_store_token(token_name)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Securely Store API Tokens — bhhi_store_token","text":"token_name Name token, string","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhi_store_token.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Securely Store API Tokens — bhhi_store_token","text":"","code":"if (FALSE) { # interactive() bhhi_store_token(\"REDCAP_API_TOKEN\") }"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/bhhitools.html","id":null,"dir":"Reference","previous_headings":"","what":"bhhitools — bhhitools","title":"bhhitools — bhhitools","text":"bhhitools","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns path to Stata binary — get_stata_path","title":"Returns path to Stata binary — get_stata_path","text":"Returns path Stata binary","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns path to Stata binary — get_stata_path","text":"","code":"get_stata_path()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns path to Stata binary — get_stata_path","text":"Path Stata binary.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":null,"dir":"Reference","previous_headings":"","what":"Returns Stata version — get_stata_version","title":"Returns Stata version — get_stata_version","text":"Returns Stata version","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Returns Stata version — get_stata_version","text":"","code":"get_stata_version()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/get_stata_version.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Returns Stata version — get_stata_version","text":"Stata version integer.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":null,"dir":"Reference","previous_headings":"","what":"REDCap API URL — redcap_api_url","title":"REDCap API URL — redcap_api_url","text":"Returns URL REDCap API: https://redcap.ucsf.edu/api/","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"REDCap API URL — redcap_api_url","text":"","code":"redcap_api_url()"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_api_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"REDCap API URL — redcap_api_url","text":"REDCap API URL","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch appropriate REDCap API Token — redcap_token","title":"Fetch appropriate REDCap API Token — redcap_token","text":"Fetches project's REDCap API Token","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch appropriate REDCap API Token — redcap_token","text":"","code":"redcap_token(project_token_name)"},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch appropriate REDCap API Token — redcap_token","text":"project_token_name Name used store token via bhhi_store_token() name environment variable token.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch appropriate REDCap API Token — redcap_token","text":"API token.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/reference/redcap_token.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fetch appropriate REDCap API Token — redcap_token","text":"get API token, ask one BHHI REDCap admins grant API privileges request token. See https://redcap.ucsf.edu/api/help/?content=tokens details.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-064","dir":"Changelog","previous_headings":"","what":"bhhitools 0.6.4","title":"bhhitools 0.6.4","text":"Switched CRAN version REDCapR package.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-062","dir":"Changelog","previous_headings":"","what":"bhhitools 0.6.2","title":"bhhitools 0.6.2","text":"Fixed bug bhhi_cascade() grouping 3+ variables.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-061","dir":"Changelog","previous_headings":"","what":"bhhitools 0.6.1","title":"bhhitools 0.6.1","text":"Fixed bug bhhi_gt_crosstab() bhhi_format_crosstab() row variable name ended “_” 2-4 characters.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-060","dir":"Changelog","previous_headings":"","what":"bhhitools 0.6.0","title":"bhhitools 0.6.0","text":"Auto-convert variables Stata value labels [haven::labelled] factors bhhi_crosstab() bhhi_gt_crosstab(). Fix bug auto-opening .qmd file bhhi_new_quarto().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-050","dir":"Changelog","previous_headings":"","what":"bhhitools 0.5.0","title":"bhhitools 0.5.0","text":"Adds tools making survey crosstabs easier: bhhi_crosstab(), bhhi_gt_crosstab(), bhhi_cascade(), bhhi_reshape_crosstab(), & bhhi_format_crosstab().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-040","dir":"Changelog","previous_headings":"","what":"bhhitools 0.4.0","title":"bhhitools 0.4.0","text":"Adds tools working BHHI Quarto format: bhhi_new_quarto() & bhhi_add_quarto().","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-030","dir":"Changelog","previous_headings":"","what":"bhhitools 0.3.0","title":"bhhitools 0.3.0","text":"Adds bhhi_format_table() applies common formatting tables output Quarto, R Markdown, etc.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-020","dir":"Changelog","previous_headings":"","what":"bhhitools 0.2.0","title":"bhhitools 0.2.0","text":"Adds bhhi_shared_drive() builds OS-independent file paths BHHI shared drive.","code":""},{"path":"https://ucsf-bhhi.github.io/bhhitools/news/index.html","id":"bhhitools-010","dir":"Changelog","previous_headings":"","what":"bhhitools 0.1.0","title":"bhhitools 0.1.0","text":"Initial version.","code":""}]
